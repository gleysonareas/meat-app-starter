"use strict";(self.webpackChunkmeat_app_starter=self.webpackChunkmeat_app_starter||[]).push([[914],{3914:(Q,u,l)=>{l.r(u),l.d(u,{OrderModule:()=>U});var d=l(4793),p=l(4466),v=l(3721),n=l(4006),f=l(2994);class h{constructor(i,t){this.quantity=i,this.menuId=t}}var e=l(4650),_=l(6854),c=l(6895),Z=l(235);function g(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"label")(2,"div",1),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.setValue(s.value))}),e._UZ(3,"ins",2),e.qZA(),e._uU(4),e.qZA()()}if(2&r){const t=i.$implicit,o=e.oxw();e.xp6(2),e.ekj("checked",t.value===o.value),e.xp6(2),e.hij(" ",t.label," ")}}let y=(()=>{class r{constructor(){}ngOnInit(){}setValue(t){this.value=t,this.onChange(this.value)}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){}setDisabledState(t){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["mt-radio"]],inputs:{options:"options"},features:[e._Bn([{provide:n.JU,useExisting:(0,e.Gpc)(()=>r),multi:!0}])],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["aria-checked","false","aria-disabled","false",1,"iradio_flat-red",2,"position","relative",3,"click"],[1,"iCheck-helper",2,"position","absolute","top","0%","left","0%","display","block","width","100%","height","100%","margin","0px","padding","0px","background","rgb(255, 255, 255)","border","0px","opacity","0"]],template:function(t,o){1&t&&e.YNc(0,g,5,3,"div",0),2&t&&e.Q6J("ngForOf",o.options)},dependencies:[c.sg],encapsulation:2}),r})();const C=function(){return["/restaurants"]};function T(r,i){1&r&&(e.TgZ(0,"div",1)(1,"p"),e._uU(2," N\xe3o h\xe1 itens no seu carrinho de compra. Que tal come\xe7ar por "),e.TgZ(3,"a",2),e._uU(4,"aqui"),e.qZA(),e._uU(5,"? "),e.qZA()()),2&r&&(e.xp6(3),e.Q6J("routerLink",e.DdM(1,C)))}function O(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",4)(2,"a",7),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.emitDecreaseQty(s))}),e._UZ(3,"i",8),e.qZA(),e._uU(4),e.TgZ(5,"a",7),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.emitIncreaseQty(s))}),e._UZ(6,"i",9),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",5),e._uU(12),e.ALo(13,"currency"),e.qZA(),e.TgZ(14,"td",5)(15,"a",10),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.emitRemove(s))}),e._UZ(16,"i",11),e.qZA()()()}if(2&r){const t=i.$implicit;e.xp6(4),e.hij(" ",t.quantity," "),e.xp6(4),e.Oqu(t.menuItem.name),e.xp6(2),e.Oqu(t.menuItem.description),e.xp6(2),e.Oqu(e.Dn7(13,4,t.value(),"BRL","symbol"))}}function b(r,i){if(1&r&&(e.TgZ(0,"div",1)(1,"table",3)(2,"thead")(3,"tr")(4,"th",4),e._uU(5,"Quantidade"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Item"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Descri\xe7\xe3o"),e.qZA(),e.TgZ(10,"th",5),e._uU(11,"Subtotal"),e.qZA(),e._UZ(12,"th",5),e.qZA()(),e.TgZ(13,"tbody"),e.YNc(14,O,17,8,"tr",6),e.qZA()()()),2&r){const t=e.oxw();e.xp6(14),e.Q6J("ngForOf",t.items)}}let A=(()=>{class r{constructor(){this.increaseQty=new e.vpe,this.decreaseQty=new e.vpe,this.remove=new e.vpe}ngOnInit(){}emitIncreaseQty(t){this.increaseQty.emit(t)}emitDecreaseQty(t){this.decreaseQty.emit(t)}emitRemove(t){this.remove.emit(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["mt-order-items"]],inputs:{items:"items"},outputs:{increaseQty:"increaseQty",decreaseQty:"decreaseQty",remove:"remove"},decls:2,vars:2,consts:[["class","col-xs-12 table-responsive",4,"ngIf"],[1,"col-xs-12","table-responsive"],[3,"routerLink"],[1,"table","table-striped"],[1,"text-center"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm",3,"click"],[1,"fa","fa-minus"],[1,"fa","fa-plus"],[1,"btn","btn-sm","danger",3,"click"],[1,"fa","fa-remove"]],template:function(t,o){1&t&&(e.YNc(0,T,6,2,"div",0),e.YNc(1,b,15,1,"div",0)),2&t&&(e.Q6J("ngIf",0===o.items.length),e.xp6(1),e.Q6J("ngIf",o.items.length>0))},dependencies:[c.sg,c.O5,d.yS,c.H9],encapsulation:2}),r})(),I=(()=>{class r{constructor(){}ngOnInit(){}total(){return this.delivery+this.itemsValue}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["mt-delivery-costs"]],inputs:{delivery:"delivery",itemsValue:"itemsValue"},decls:21,vars:15,consts:[[1,"table-responsive"],[1,"table"],[2,"width","50%"],[1,"text-right"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"tbody")(3,"tr")(4,"th",2),e._uU(5,"Itens:"),e.qZA(),e.TgZ(6,"td",3),e._uU(7),e.ALo(8,"currency"),e.qZA()(),e.TgZ(9,"tr")(10,"th"),e._uU(11,"Frete:"),e.qZA(),e.TgZ(12,"td",3),e._uU(13),e.ALo(14,"currency"),e.qZA()(),e.TgZ(15,"tr")(16,"th"),e._uU(17,"Total:"),e.qZA(),e.TgZ(18,"td",3),e._uU(19),e.ALo(20,"currency"),e.qZA()()()()()),2&t&&(e.xp6(7),e.Oqu(e.Dn7(8,3,o.itemsValue,"BRL","symbol")),e.xp6(6),e.Oqu(e.Dn7(14,7,o.delivery,"BRL","symbol")),e.xp6(6),e.Oqu(e.Dn7(20,11,o.total(),"BRL","symbol")))},dependencies:[c.H9],encapsulation:2}),r})();function q(r,i){1&r&&(e.TgZ(0,"span",33),e._UZ(1,"i",34),e._uU(2,"emails n\xe3o conferem"),e.qZA())}const x=[{path:"",component:(()=>{class r{constructor(t,o,a){this.orderService=t,this.router=o,this.formBuilder=a,this.delivery=8,this.emailPattern=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,this.numberPattern=/^[0-9]*$/,this.paymentOptions=[{label:"Dinheiro",value:"MON"},{label:"Cart\xe3o de D\xe9bito",value:"DEB"},{label:"Cart\xe3o Refei\xe7\xe3o",value:"REF"}]}ngOnInit(){this.orderForm=new n.cw({name:this.formBuilder.control("",[n.kI.required,n.kI.minLength(5)]),email:this.formBuilder.control("",[n.kI.required,n.kI.pattern(this.emailPattern)]),emailConfirmation:this.formBuilder.control("",[n.kI.required,n.kI.pattern(this.emailPattern)]),address:this.formBuilder.control("",[n.kI.required,n.kI.minLength(5)]),number:this.formBuilder.control("",[n.kI.required,n.kI.pattern(this.numberPattern)]),optionalAddress:this.formBuilder.control(""),paymentOption:this.formBuilder.control("",[n.kI.required])},{validators:[r.equalsTo],updateOn:"blur"})}static equalsTo(t){const o=t.get("email"),a=t.get("emailConfirmation");return o&&a&&o?.value!==a?.value?{emailsNotMatch:!0}:{}}itemsValue(){return this.orderService.itemsValue()}cartItems(){return this.orderService.cartItems()}increaseQty(t){this.orderService.icreaseQty(t)}decreaseQty(t){this.orderService.decreaseQty(t)}remove(t){this.orderService.remove(t)}isOrderCompleted(){return void 0!==this.orderId}checkOrder(t){t.orderItems=this.cartItems().map(o=>new h(o.quantity,o.menuItem.id)),this.orderService.checkOrder(t).pipe((0,f.b)(o=>{this.orderId=o})).subscribe(o=>{this.router.navigate(["order-summary"]),this.orderService.clear()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_.p),e.Y36(d.F0),e.Y36(n.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["mt-order"]],decls:57,vars:7,consts:[[1,"content-header"],[1,"content"],[1,"invoice"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-xs-12"],[1,"page-header"],[1,"fa","fa-shopping-cart"],[1,"col-xs-12","col-sm-9"],[1,"lead"],[1,"col-xs-12","col-sm-3"],["class","help-block pull-right has-error-block",4,"ngIf"],[1,"col-sm-5","col-xs-12"],["errorMessage","Campo obrigat\xf3rio e com 5 caracteres","label","Nome"],["formControlName","name","placeholder","Nome Completo","autocomplete","off",1,"form-control"],[1,"col-sm-3","col-xs-6"],["errorMessage","e-mail inv\xe1lido","label","e-mail"],["type","text","formControlName","email","placeholder","e-mail","autocomplete","off",1,"form-control"],["errorMessage","e-mail inv\xe1lido","label","Confirma\xe7\xe3o do e-mail"],["type","text","formControlName","emailConfirmation","placeholder","Confirme seu e-mail","autocomplete","off",1,"form-control"],["errorMessage","Campo obrigat\xf3rio e com 5 caracteres","label","Endere\xe7o"],["formControlName","address","placeholder","Endere\xe7o","autocomplete","off",1,"form-control"],["errorMessage","Obrigat\xf3rio e somente n\xfameros","label","N\xfamero"],["type","text","formControlName","number","placeholder","N\xfamero","autocomplete","off",1,"form-control"],[1,"col-sm-4","col-xs-6"],["type","text","formControlName","optionalAddress","placeholder","Complemento",1,"form-control"],[3,"items","increaseQty","decreaseQty","remove"],[1,"col-sm-6","col-xs-12"],[1,"form-group"],["formControlName","paymentOption",3,"options"],[3,"delivery","itemsValue"],[1,"btn","btn-success","pull-right",3,"disabled","click"],[1,"fa","fa-credit-card"],[1,"help-block","pull-right","has-error-block"],[1,"fa","fa-remove"]],template:function(t,o){1&t&&(e._UZ(0,"section",0),e.TgZ(1,"section",1)(2,"section",2)(3,"form",3)(4,"div",4)(5,"div",5)(6,"h2",6),e._UZ(7,"i",7),e._uU(8," Finalize o seu pedido "),e.qZA()()(),e.TgZ(9,"div",4)(10,"div",8)(11,"p",9),e._uU(12,"Seus Dados:"),e.qZA()(),e.TgZ(13,"div",10),e.YNc(14,q,3,0,"span",11),e.qZA(),e.TgZ(15,"div",12)(16,"mt-input-container",13),e._UZ(17,"input",14),e.qZA()(),e.TgZ(18,"div",15)(19,"mt-input-container",16),e._UZ(20,"input",17),e.qZA()(),e.TgZ(21,"div",15)(22,"mt-input-container",18),e._UZ(23,"input",19),e.qZA()()(),e.TgZ(24,"div",4)(25,"div",5)(26,"p",9),e._uU(27,"Endere\xe7o de Entrega:"),e.qZA()(),e.TgZ(28,"div",12)(29,"mt-input-container",20),e._UZ(30,"input",21),e.qZA()(),e.TgZ(31,"div",15)(32,"mt-input-container",22),e._UZ(33,"input",23),e.qZA()(),e.TgZ(34,"div",24)(35,"mt-input-container"),e._UZ(36,"input",25),e.qZA()()(),e.TgZ(37,"div",4)(38,"div",5)(39,"p",9),e._uU(40,"Itens do Pedido:"),e.qZA()(),e.TgZ(41,"mt-order-items",26),e.NdJ("increaseQty",function(s){return o.increaseQty(s)})("decreaseQty",function(s){return o.decreaseQty(s)})("remove",function(s){return o.remove(s)}),e.qZA()(),e.TgZ(42,"div",4)(43,"div",27)(44,"p",9),e._uU(45,"Formas de Pagamento:"),e.qZA(),e.TgZ(46,"div",28),e._UZ(47,"mt-radio",29),e.qZA()(),e.TgZ(48,"div",27)(49,"p",9),e._uU(50,"Frete e Total:"),e.qZA(),e._UZ(51,"mt-delivery-costs",30),e.qZA()()(),e.TgZ(52,"div",4)(53,"div",5)(54,"button",31),e.NdJ("click",function(){return o.checkOrder(o.orderForm.value)}),e._UZ(55,"i",32),e._uU(56," Concluir Pedido "),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",o.orderForm),e.xp6(11),e.Q6J("ngIf",o.orderForm.hasError("emailsNotMatch")),e.xp6(27),e.Q6J("items",o.cartItems()),e.xp6(6),e.Q6J("options",o.paymentOptions),e.xp6(4),e.Q6J("delivery",o.delivery)("itemsValue",o.itemsValue()),e.xp6(3),e.Q6J("disabled",!o.orderForm.valid||0===o.cartItems().length))},dependencies:[c.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,Z.a,y,A,I],encapsulation:2}),r})(),canDeactivate:[v.G]}];let U=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.u,d.Bz.forChild(x)]}),r})()}}]);